_subdirectory: template
_answers_file: "{{ project_slug }}/.project-generator_answers.yaml"

project_name:
  type: str
  help: What is the name of the project? It will only be used to to set the admin site title.
  default: "My Django Project"
project_slug:
  type: str
  help: "Set a new name if you want ot rename the parent directory."
  default: "{{ project_name|lower|replace(' ', '_') }}"
  validator: >-
        {% if not (project_slug | regex_search('^[a-z][a-z0-9\-\_]+$')) %}
        project_slug must be snake_case or kebab-case (all lowercase).
        {% endif %}
django_app_name:
  type: str
  help: "What is the name of the main Django app?"
  default: "{{ project_slug }}"
django_version:
  type: str
  help: "Select the Django version to use"
  choices:
    lts (4.2): &django_lts "4.2"
    latest: "latest"
  default: *django_lts
python_version:
  type: str
  help: Select the Python version to use
  choices:
    "3.10":
      value: "3.10"
    "3.11":
      value: "3.11"
    "3.12":
      value: "3.12"
    "3.13":
      value: "3.13"
      validator: "{% if django_version == '4.2' %}Requires Django 5{% endif %}"
  default: "3.12"
# node_version:
#   type: str
#   help: Select the Node version to use
#   choices:
#     - "18"
#     - "20"
#     - "22"
#   default: "20"
postgres_version:
  type: str
  help: Select the PosgreSQL vertion to used
  choices:
    - "14"
    - "15"
    - "16"
    - "latest"
  default: "latest"
db_user:
  type: str
  help: "Enter the database user"
  default: "admin"
db_password:
  type: str
  help: "Enter the database password"
  default: "admin"
default_permission_class:
  type: str
  help: "What is the default permission class?"
  choices:
    - AllowAny
    - IsAuthenticated
    - IsAuthenticatedOrReadOnly
    - IsAdminUser
  default: AllowAny
initialize_git_repo:
  type: bool
  help: "Initialize a Git repository?"
  default: true
_tasks:
  - command: "git init --initial-branch=main {{ project_slug }}"
    when: "{{ initialize_git_repo }}"
  - command: "ng new --skip-git frontend"
    when: false
